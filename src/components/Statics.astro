---
import ChartComponent from "./ChartComponent";

const data = [
  {
    id: "chart1", // ID único para el primer gráfico
    labels: ["Enero", "Febrero", "Marzo", "Abril"],
    datasets: [
      {
        label: "Ventas",
        data: [65, 59, 80, 81],
        backgroundColor: ["#FF6384", "#36A2EB", "#FFCE56", "#4BC0C0"],
      },
    ],
  },
  {
    id: "chart2", // ID único para el segundo gráfico
    labels: ["Enero", "Febrero", "Marzo", "Abril"],
    datasets: [
      {
        label: "Ventas",
        data: [65, 59, 80, 81],
        backgroundColor: ["#36A2EB", "#FFCE56", "#4BC0C0", "#FF6384"],
      },
    ],
  },
  {
    id: "chart3", // ID único para el tercer gráfico
    labels: ["Enero", "Febrero", "Marzo", "Abril"],
    datasets: [
      {
        label: "Ventas",
        data: [65, 59, 80, 81],
        backgroundColor: ["#36A2EB", "#FFCE56", "#4BC0C0", "#FF6384"],
      },
    ],
  },
  {
    id: "chart4", // ID único para el cuarto gráfico
    labels: ["Enero", "Febrero", "Marzo", "Abril"],
    datasets: [
      {
        label: "Ventas",
        data: [65, 59, 80, 81],
        backgroundColor: ["#36A2EB", "#FFCE56", "#4BC0C0", "#FF6384"],
      },
    ],
  },
  {
    id: "chart5", // ID único para el quinto gráfico
    labels: ["Enero", "Febrero", "Marzo", "Abril"],
    datasets: [
      {
        label: "Ventas",
        data: [65, 59, 80, 81],
        backgroundColor: ["#36A2EB", "#FFCE56", "#4BC0C0", "#FF6384"],
      },
    ],
  },
  {
    id: "chart6", // ID único para el sexto gráfico
    labels: ["Enero", "Febrero", "Marzo", "Abril"],
    datasets: [
      {
        label: "Ventas",
        data: [65, 59, 80, 81],
        backgroundColor: ["#36A2EB", "#FFCE56", "#4BC0C0", "#FF6384"],
      },
    ],
  },

];
---
<section id="stats" class="w-full relative overflow-hidden h-96  items-center justify-center p-2 max-w-xl flex flex-row md:max-w-3xl rounded-lg flex-wrap mx-auto gap-4 mt-48">
    <h2 class="text-3xl font-bold text-center mb-8">Estadísticas</h2>
    <p></p>
    <div class="w-full h-full flex flex-row gap-3 flex-wrap items-center justify-center">
  {data.map((chartData) => (
    <ChartComponent  client:load data={chartData} id={chartData.id} />
  ))}
  <div id="more-container" class="w-full h-1/3 absolute bottom-0 left-0 bg-gradient-to-b from-transparent  to-[#3f72af]/50">
  <button id="more-btn" class="bg-blue-500 hover:bg-blue-600 opacity-85 hover:opacity-100  absolute bottom-0 left-0 max-w-28 mx-auto w-full -translate-y-4 right-0 px-4 py-2 rounded-full text-white">
    Ver más
  </button>
  </div>
</div>
</section>
<script>
    import { $ } from "../utils";
    const stats : HTMLElement | null = $('#stats');
    const  moreBtn : HTMLElement | null = $('#more-btn');
    const  moreContainer : HTMLElement | null = $('#more-container')
    if(stats && moreBtn && moreContainer){
        moreBtn.addEventListener('click', () => {
            stats.classList.replace('h-96', 'h-auto');
            moreContainer.classList.add('hidden')
        })
    }
</script>
